CREATE DATABASE pickflix;

CREATE TABLE app_user
(
  id BIGSERIAL PRIMARY KEY NOT NULL,
  firebase_id VARCHAR (255) NOT NULL UNIQUE
)

CREATE TABLE todo
(
  id BIGSERIAL PRIMARY KEY NOT NULL,
  task VARCHAR(255) NOT NULL,
  app_user_id BIGINT REFERENCES app_user (id)
)

CREATE TABLE list
(
  id BIGSERIAL PRIMARY KEY NOT NULL,
  title VARCHAR(255) NOT NULL
)

CREATE TABLE list_media
(
  id BIGSERIAL PRIMARY KEY NOT NULL,
  list_id BIGINT REFERENCES list (id),
  media_id VARCHAR(255) NOT NULL UNIQUE
)

CREATE TABLE list_app_user
(
  id BIGSERIAL PRIMARY KEY NOT NULL,
  list_id BIGINT REFERENCES list (id),
  app_user_id BIGINT REFERENCES app_user (id)
)
